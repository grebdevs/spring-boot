<div ng-controller="pubController">
    <h2 class="text-center">Publish a message</h2>
    <div class="container">
        <form name="pubForm" class="form-horizontal" novalidate>
            <!-- Queue name input -->
            <div class="form-group">
                <label class="col-sm-2 control-label">Queue:</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" ng-model="pub.queue" placeholder="Enter queue name here">
                </div>
            </div>
            <!-- Message input -->
            <div class="form-group">
                <label class="col-sm-2 control-label">Message:</label>
                <div class="col-sm-10">
                    <input name="message" type="text" class="form-control" ng-model="pub.message" required
                           placeholder="Enter message here">
                    <span style = "color:red" ng-show="pubForm.message.$dirty && pubForm.message.$invalid">
                        <span ng-show = "pubForm.message.$error.required">A message is required.</span>
                     </span>
                </div>
            </div>

            <form class="form-inline">
                <div class="form-group">
                <label class="col-sm-2 control-label"> Message timeout:</label>
                <div class="col-sm-10">
                    <input id="checkbox" class="checkbox" type="checkbox" ng-model="pub.checked"
                           ng-change="pub.timeout = ''">
                    <input name="timeout" type="number" class="form-control" ng-model="pub.timeout"
                           placeholder="Timeout in seconds" ng-disabled="!pub.checked" only-digits>
                </div>
                </div>
            </form>

            <!-- Submit button -->
            <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10">
                    <button class="btn btn-default" type="submit" ng-click="publish()"
                            ng-disabled="pubForm.message.$invalid">Publish
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>