<div ng-controller="subController">
    <h2 class="text-center">Receive a message</h2>
    <div class="container">
        <p class="text col-sm-offset-2 col-sm-10">Enter a queue to receive a message from.
            If nothing is entered, a fetch from the default queue will be attempted.</p>
        <form name="subForm" class="form-horizontal" novalidate>
            <div class="form-group">
                <label class="col-sm-2 control-label">Queue:</label>
                <div class="col-sm-10">
                    <input name="queue" type="text" class="form-control" ng-model="queue"
                           placeholder="Using predefined queue">
                </div>
            </div>

            <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10">
                    <button class="btn btn-default" type="submit" ng-click="receive()">Receive</button>
                </div>
            </div>
        </form>

        <div id="messagesPanel" class="col-sm-offset-2 col-sm-10 panel">
            <h3 class="panel-header">Messages received</h3>
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Queue</th>
                        <th>Message</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="message in messages">
                        <td>{{message.queue}}</td>
                        <td>{{message.msg}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>